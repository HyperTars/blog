<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>HyperTars Blog</title><link>/</link><description>Recent content on HyperTars Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 18 May 2021 20:27:25 +0800</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>Rockaway Beach</title><link>/post/rockaway-beach/</link><pubDate>Tue, 18 May 2021 20:27:25 +0800</pubDate><guid>/post/rockaway-beach/</guid><description>Rockaway Beach in Snow Rockaway Beach in Snow.</description></item><item><title>Raft 分布式共识算法</title><link>/post/raft/</link><pubDate>Sun, 02 May 2021 10:41:32 +0800</pubDate><guid>/post/raft/</guid><description>Raft 分布式共识算法 tags: [&amp;ldquo;分布式&amp;rdquo;, &amp;ldquo;共识算法&amp;rdquo;]
1. Introduction 论文：
https://raft.github.io/raft.pdf https://github.com/maemual/raft-zh_cn/blob/master/raft-zh_cn.md https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf 实现
Golang: https://github.com/hashicorp/raft ETCD: https://github.com/etcd-io/etcd TiKV: https://github.com/tikv/tikv TiDB: https://github.com/pingcap/tidb RocksDB: https://github.com/facebook/rocksdb GoRaft: https://github.com/goraft/raft Animation
http://www.kailing.pub/raft/index.html http://thesecretlivesofdata.com/raft/ 共识算法三个主要特性
保证在任何非拜占庭情况下的正确性。可以解决网络延迟、网络分区、丢包、重复发送、乱序问题，无法解决拜占庭问题（存储不可靠、消息错误、分区、冗余、丢失、乱序）。 保证在大多数机器正常的情况下集群的高可用性，而少部分机器缓慢不影响整个集群的性能。 不依赖外部时间来保证日志的一致性。共识算法不受硬件影响，不因外部因素造成错误。但也造成了一些限制，让共识算法受网络影响较大，在异地容灾的情况下，共识算法的支持性比较差。 Raft 共识算法的区别特征
Strong Leader：在 raft 中，日志只能从 leader 流向其他服务器，这简化了复制日志的管理，使得 raft 更好理解。 Leader election：raft 使用随即计时器进行 leader 选举。这只需在任何共识算法都需要的心跳上增加少量机制，同时能够简单快速地解决冲突。 Membership changes：raft 使用一种共同一致 joint consensus 方法来处理集群成员变更的问题，变更时，两种不同的配置大多数机器会重叠，这允许整个集群在配置变更期间可以持续正常运行。 长声明周期的强 leader，是 raft 实现起来简单，区别于其他共识算法最重要的特点，同时也存在性能隐患。raft 选举出来的 leader 必须具有日志完整性。为了保证时时刻刻都能有具备完整日志的节点可以成为 leader，raft 必须使用顺序日志复制的方法来避免日志空洞。这一套是 raft 的三个子问题领导者选举、日志复制、安全性的三个闭环逻辑。为了支持强 leader，raft 单独分解出了领导者选举这个子问题。并用安全性子问题来保证选举出的 leader 具有完整日志，以及处理 leader 宕机的情况。强 leader 使得共识算法中最重要的日志复制模块实现起来很简单，同时也极大降低了 raft 实现和理解的难度。 Raft Problems</description></item><item><title>ZAB 分布式原子广播协议</title><link>/post/zab/</link><pubDate>Sun, 02 May 2021 10:41:32 +0800</pubDate><guid>/post/zab/</guid><description>ZAB: Zookeeper Atomic Broadcast 原子广播协议</description></item><item><title/><link>/post/paxos/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/post/paxos/</guid><description/></item></channel></rss>